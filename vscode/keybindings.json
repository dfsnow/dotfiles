[
    // Use tab to cycle through tabs
    {
        "key": "tab",
        "command": "workbench.action.nextEditorInGroup",
        "when": "editorFocus && vim.mode != 'Insert' || (!inputFocus && !editorFocus)"
    },
    {
        "key": "shift+tab",
        "command": "workbench.action.previousEditorInGroup",
        "when": "editorFocus && vim.mode != 'Insert' || (!inputFocus && !editorFocus)"
    },
    // Ctrl + tab to cycle editor groups
    {
        "key": "ctrl+tab",
        "command": "workbench.action.focusNextGroup",
        "when": "editorFocus"
    },
    {
        "key": "ctrl+shift+tab",
        "command": "workbench.action.focusPreviousGroup",
        "when": "editorFocus"
    },
    // Open file and take focus
    {
        "key": "o",
        "command": "explorer.openAndPassFocus",
        "when": "filesExplorerFocus && foldersViewVisible && !explorerResourceIsFolder && !inputFocus"
    },
    {
        "key": "cmd+shift+o",
        "command": "workbench.action.files.openFolder",
        "when": "openFolderWorkspaceSupport"
    },
    {
        "key": "ctrl+shift+o",
        "command": "workbench.action.files.openFolder",
        "when": "openFolderWorkspaceSupport"
    },
    // Use tab to select from suggestions
    {
        "key": "tab",
        "command": "selectNextCodeAction",
        "when": "editorFocus && codeActionMenuVisible"
    },
    {
        "key": "shift+tab",
        "command": "selectPrevCodeAction",
        "when": "editorFocus && codeActionMenuVisible"
    },
    {
        "key": "tab",
        "command": "selectNextSuggestion",
        "when": "editorTextFocus && suggestWidgetMultipleSuggestions && suggestWidgetVisible"
    },
    {
        "key": "shift+tab",
        "command": "selectPrevSuggestion",
        "when": "editorTextFocus && suggestWidgetMultipleSuggestions && suggestWidgetVisible"
    },
    // Better shortcuts for workbench views
    {
        "key": "-",
        "command": "workbench.view.explorer",
        "when": "(vim.mode != 'Insert' && editorTextFocus) || !inputFocus"
    },
    {
        "key": "home",
        "command": "workbench.action.focusActiveEditorGroup"
    },
    {
        "key": "cmd+shift+r",
        "command": "workbench.view.remote"
    },
    {
        "key": "ctrl+shift+r",
        "command": "workbench.view.remote"
    },
    {
        "key": "cmd+shift+c",
        "command": "workbench.panel.chat.view.copilot.focus"
    },
    {
        "key": "ctrl+shift+c",
        "command": "workbench.panel.chat.view.copilot.focus"
    },
    {
        "key": "cmd+shift+t",
        "command": "workbench.action.terminal.toggleTerminal",
        "when": "terminal.active"
    },
    {
        "key": "ctrl+shift+t",
        "command": "workbench.action.terminal.toggleTerminal",
        "when": "terminal.active"
    },
    // Open lazygit
    {
        "key": "cmd+shift+g",
        "command": "workbench.action.tasks.runTask",
        "args": "editor_after_lazygit"
    },
    {
        "key": "ctrl+shift+g",
        "command": "workbench.action.tasks.runTask",
        "args": "editor_after_lazygit"
    },
    // Open tab at index
    {
        "key": "cmd+1",
        "command": "workbench.action.openEditorAtIndex1"
    },
    {
        "key": "ctrl+1",
        "command": "workbench.action.openEditorAtIndex1"
    },
    {
        "key": "cmd+2",
        "command": "workbench.action.openEditorAtIndex2"
    },
    {
        "key": "ctrl+2",
        "command": "workbench.action.openEditorAtIndex2"
    },
    {
        "key": "cmd+3",
        "command": "workbench.action.openEditorAtIndex3"
    },
    {
        "key": "ctrl+3",
        "command": "workbench.action.openEditorAtIndex3"
    },
    {
        "key": "cmd+4",
        "command": "workbench.action.openEditorAtIndex4"
    },
    {
        "key": "ctrl+4",
        "command": "workbench.action.openEditorAtIndex4"
    },
    {
        "key": "cmd+5",
        "command": "workbench.action.openEditorAtIndex5"
    },
    {
        "key": "ctrl+5",
        "command": "workbench.action.openEditorAtIndex5"
    },
    {
        "key": "cmd+6",
        "command": "workbench.action.openEditorAtIndex6"
    },
    {
        "key": "ctrl+6",
        "command": "workbench.action.openEditorAtIndex6"
    },
    {
        "key": "cmd+7",
        "command": "workbench.action.openEditorAtIndex7"
    },
    {
        "key": "ctrl+7",
        "command": "workbench.action.openEditorAtIndex7"
    },
    {
        "key": "cmd+8",
        "command": "workbench.action.openEditorAtIndex8"
    },
    {
        "key": "ctrl+8",
        "command": "workbench.action.openEditorAtIndex8"
    },
    {
        "key": "cmd+9",
        "command": "workbench.action.openEditorAtIndex9"
    },
    {
        "key": "ctrl+9",
        "command": "workbench.action.openEditorAtIndex9"
    },
    // Insert cursor above and below using vim keys
    {
        "key": "cmd+shift+j",
        "command": "editor.action.insertCursorBelow",
        "when": "editorTextFocus && vim.mode == 'Normal'"
    },
    {
        "key": "ctrl+shift+j",
        "command": "editor.action.insertCursorBelow",
        "when": "editorTextFocus && vim.mode == 'Normal'"
    },
    {
        "key": "cmd+shift+k",
        "command": "editor.action.insertCursorAbove",
        "when": "editorTextFocus && vim.mode == 'Normal'"
    },
    {
        "key": "ctrl+shift+k",
        "command": "editor.action.insertCursorAbove",
        "when": "editorTextFocus && vim.mode == 'Normal'"
    },
    // Ctrl+D to multi-select
    {
        "key": "cmd+d",
        "command": "editor.action.addSelectionToNextFindMatch",
        "when": "editorFocus"
    },
    {
        "key": "ctrl+shift+d",
        "command": "editor.action.addSelectionToPreviousFindMatch",
        "when": "editorFocus"
    },
    // Quarto REPL
    {
        "key": "shift+enter",
        "command": "quarto.runSelection",
        "when": "editorTextFocus && !findInputFocussed && !replaceInputFocussed && editorLangId == 'quarto'"
    },
    {
        "key": "cmd+enter",
        "command": "quarto.runSelection",
        "when": "editorTextFocus && !findInputFocussed && !replaceInputFocussed && editorLangId == 'quarto'"
    },
    {
        "key": "ctrl+enter",
        "command": "quarto.runSelection",
        "when": "editorTextFocus && !findInputFocussed && !replaceInputFocussed && editorLangId == 'quarto'"
    },
    {
        "key": "cmd+shift+enter",
        "command": "quarto.runCurrentAdvance",
        "when": "editorTextFocus && !findInputFocussed && !replaceInputFocussed && editorLangId == 'quarto'"
    },
    {
        "key": "ctrl+shift+enter",
        "command": "quarto.runCurrentAdvance",
        "when": "editorTextFocus && !findInputFocussed && !replaceInputFocussed && editorLangId == 'quarto'"
    },
    // Python REPL
    {
        "key": "cmd+enter",
        "command": "python.execSelectionInTerminal",
        "when": "editorTextFocus && !findInputFocussed && !replaceInputFocussed && editorLangId == 'python'"
    },
    {
        "key": "ctrl+enter",
        "command": "python.execSelectionInTerminal",
        "when": "editorTextFocus && !findInputFocussed && !replaceInputFocussed && editorLangId == 'python'"
    },
    {
        "key": "cmd+shift+enter",
        "command": "python.execInDedicatedTerminal",
        "when": "editorTextFocus && !findInputFocussed && !replaceInputFocussed && editorLangId == 'python'"
    },
    {
        "key": "enter",
        "command": "acceptSelectedSuggestion",
        "when": "jupyter.hasNativeNotebookOrInteractiveWindowOpen && acceptSuggestionOnEnter && suggestWidgetHasFocusedSuggestion && suggestWidgetVisible && suggestionMakesTextEdit && textInputFocus"
    },
    {
        "key": "ctrl+shift+enter",
        "command": "python.execInDedicatedTerminal",
        "when": "editorTextFocus && !findInputFocussed && !replaceInputFocussed && editorLangId == 'python'"
    },
    // R REPL
    {
        "key": "shift+enter",
        "command": "r.runSelection",
        "when": "editorTextFocus && !findInputFocussed && !replaceInputFocussed && (editorLangId == 'r' || editorLangId == 'rmd')"
    },
    {
        "key": "cmd+enter",
        "command": "r.runSelection",
        "when": "editorTextFocus && !findInputFocussed && !replaceInputFocussed && (editorLangId == 'r' || editorLangId == 'rmd')"
    },
    {
        "key": "ctrl+enter",
        "command": "r.runSelection",
        "when": "editorTextFocus && !findInputFocussed && !replaceInputFocussed && (editorLangId == 'r' || editorLangId == 'rmd')"
    },
    // SQLTools setup
    {
        "key": "cmd+shift+enter",
        "command": "sqltools.executeQueryFromFile",
        "when": "editorTextFocus && !findInputFocussed && !replaceInputFocussed && editorLangId == 'sql'"
    },
    {
        "key": "cmd+enter",
        "command": "sqltools.executeQuery",
        "when": "editorTextFocus && !findInputFocussed && !replaceInputFocussed && editorLangId == 'sql' && editorHasSelection"
    },
    {
        "key": "cmd+enter",
        "command": "sqltools.executeCurrentQuery",
        "when": "editorTextFocus && !findInputFocussed && !replaceInputFocussed && editorLangId == 'sql'"
    }
]
